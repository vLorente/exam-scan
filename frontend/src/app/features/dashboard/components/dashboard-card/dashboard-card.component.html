<article class="dashboard-card"
         [class.disabled]="disabled()"
         [attr.aria-labelledby]="titleId()"
         [attr.aria-describedby]="descId()">

  <div class="card-icon" [class]="'icon-' + icon()" aria-hidden="true">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
      @switch (icon()) {
        @case ('quiz') {
          <path d="M9 12l2 2 4-4"/>
          <circle cx="12" cy="12" r="10"/>
        }
        @case ('smart_toy') {
          <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
          <circle cx="9" cy="9" r="1"/>
          <circle cx="15" cy="9" r="1"/>
          <path d="M9 16s1-1 3-1 3 1 3 1"/>
        }
        @case ('people') {
          <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
          <circle cx="9" cy="7" r="4"/>
          <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
          <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
        }
        @case ('analytics') {
          <polyline points="22,12 18,12 15,21 9,3 6,12 2,12"/>
        }
        @default {
          <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
        }
      }
    </svg>
  </div>

  <div class="card-content">
    <header class="card-header">
      <h3 [id]="titleId()" class="card-title">
        {{ title() }}
      </h3>
    </header>

    <div class="card-body">
      <p [id]="descId()" class="card-description">
        {{ description() }}
      </p>
      @if (stats()) {
        <div class="card-stats" aria-label="Estadísticas de la tarjeta">
          {{ stats() }}
        </div>
      }
    </div>

    <footer class="card-footer">
      @if (routerLink(); as link) {
        <a class="card-button btn-primary"
           [routerLink]="link"
           [attr.aria-describedby]="btnDescId()">
          <span>{{ buttonText() }}</span>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
            <path d="M5 12h14M12 5l7 7-7 7"/>
          </svg>
        </a>
      } @else {
        <button
          class="card-button"
          [class]="disabled() ? 'btn-disabled' : (buttonClass() || 'btn-primary')"
          [disabled]="disabled()"
          (click)="onButtonClick()"
          [attr.aria-describedby]="btnDescId()">
          <span>{{ buttonText() }}</span>
          @if (!disabled()) {
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
              <path d="M5 12h14M12 5l7 7-7 7"/>
            </svg>
          }
        </button>
      }
      <span [id]="btnDescId()" class="sr-only">
        @if (disabled()) {
          Esta función estará disponible próximamente
        } @else if (routerLink()) {
          Navegar a {{ title().toLowerCase() }}
        } @else {
          Ejecutar acción de {{ title().toLowerCase() }}
        }
      </span>
    </footer>
  </div>

  <div class="card-hover-effect" aria-hidden="true"></div>
</article>
